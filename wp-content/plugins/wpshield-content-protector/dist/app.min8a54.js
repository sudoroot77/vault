/*! For license information please see app.min.js.LICENSE.txt */
(()=>{"use strict";class t{params;protector;alertWrapper;alertTemplate;excludedProtections=["right-click/simulate","text-copy/append"];constructor(t,e){this.params=e,this.protector=t;let i=[this.protector,this.params.protectionType??""].join("/"),n=this.excludedProtections.includes(i);if(!this.params.enable||"disable"===this.params.enable||n)return;let s=this.params.event&&this.params.event.type&&["select","selectstart"].includes(this.params.event.type),o=void 0!==this.params.excludedTarget&&this.params.excludedTarget;s||o||(this.alertWrapper=document.createElement("div"),this.alertWrapper.style.display="none",this.render())}getTemplateData(){if(!this.params||!this.params.template)return"";return this.l10n(`${this.protector}/${this.params.template}`)||""}render(){this.alertTemplate||(this.alertTemplate=this.getTemplateData());let t=document.querySelector(".cp-alert-popup");if(t)return t.style.display="block",!1;this.alertWrapper.setAttribute("class","cp-alert-popup"),this.alertWrapper.innerHTML=this.alertTemplate,document.body.appendChild(this.alertWrapper),this.alertWrapper.style.display="block",document.addEventListener("keydown",(t=>{t.keyCode&&[27,53].includes(t.keyCode)&&(this.alertWrapper.style.display="none")})),document.addEventListener("click",(t=>{if(!t.target.classList.contains("cp-close")&&!t.target.closest(".cp-close"))return!1;t.preventDefault(),this.alertWrapper.style.display="none"}))}l10n(t){return!("undefined"==typeof PopupMessageL10n||!PopupMessageL10n.templates||!PopupMessageL10n.templates[t])&&PopupMessageL10n.templates[t]}}function e(t,e,n){return e&&e.preventDefault(),new i(t,n),!0}function i(e,i){"undefined"!=typeof AudioAlert&&new AudioAlert(e,i.audioAlert??[]),new t(e,i.popupMessage??[])}function n(t,e,i){if(!i)return!0;if("undefined"==typeof FilterObjects)return!0;let n=new FilterObjects({protector:t,event:e}),s={};return Object.values(i).map((t=>!(!t||!t.in)&&!!n[t.in]&&void(s[t.in]=n[t.in]&&n[t.in].init()))),!Object.values(s).includes(!1)}function s(t,e){window.addEventListener?window.addEventListener(t,e,!1):window.attachEvent&&window.attachEvent("on"+t,e)}class o{activeKeys={cmd:!1,ctrl:!1,alt:!1,shift:!1};down(t){let i=t.event.keyCode?t.event.keyCode:t.event.which;if(16===i)this.activeKeys.shift=!0;else if(17===i)this.activeKeys.ctrl=!0;else if(18===i)this.activeKeys.alt=!0;else if(91===i)this.activeKeys.cmd=!0;else{let n="";for(let t in this.activeKeys)this.activeKeys[t]&&(n+=t,n+="_");if(n+=String.fromCharCode(i),n=n.toLowerCase(),t.hotKeys.includes(n))return new e(t.protector,t.event,t.extensionsOption,t.filters),!1}return!0}up(t){let e=t.keyCode?t.keyCode:t.which;16===e&&(this.activeKeys.shift=!1),17===e&&(this.activeKeys.ctrl=!1),18===e&&(this.activeKeys.alt=!1),91===e&&(this.activeKeys.cmd=!1)}}class l{constructor(){if("disable"===this.l10n("iframe"))return!1;this.isIframe()&&"message"===this.l10nOptions("iframe/type")&&this.protection()}protection(){try{if(this.getHost(window.parent.location.href)===this.getHost(window.location.href))return!1}catch(t){console.log(t)}let e=new t("iframe",{event:null,excluded:null,enable:this.l10nOptions("iframe/alert-popup"),text:this.l10nOptions("iframe/alert-popup/text"),title:this.l10nOptions("iframe/alert-popup/title"),template:this.l10nOptions("iframe/alert-popup/template")});new s("DOMContentLoaded",(()=>{document.body.write('<div class="cp-popup-message-wrap">'+e.alertTemplate+"</div>")}))}getHost(t){let e=t.match(/^https?\:\/\/(?:w{3}\.)?([^\/?#]+)(?:[\/?#]|$)/i);if(e)return e[1]}isIframe(){return window.parent!==window.self}l10n(t){return!("undefined"==typeof IframeL10n||!IframeL10n[t])&&IframeL10n[t]}l10nOptions(t){return!(!1===typeof IframeL10n||!IframeL10n.options||!IframeL10n.options[t])&&IframeL10n.options[t]}}class r{options={audioAlert:{event:null,excluded:null,enable:this.l10nOptions("videos/audio-alert"),sound:this.l10nOptions("videos/audio-alert/sound"),volume:this.l10nOptions("videos/audio-alert/volume")},popupMessage:{event:null,excluded:null,enable:this.l10nOptions("videos/alert-popup"),text:this.l10nOptions("videos/alert-popup/text"),title:this.l10nOptions("videos/alert-popup/title"),template:this.l10nOptions("videos/alert-popup/template")}};constructor(){"enable"===this.l10nOptions("videos")&&this.videosProtector()}videosProtector(){if("disable"===this.l10nOptions("videos/disable-right-click"))return!1;new s("contextmenu",(t=>{if("VIDEO"===t.target.tagName)return!!n("videos",t,this.l10nOptions("videos/filters"))&&(this.l10n("is-filter")||new e("videos",t,this.options),!1)}))}l10n(t){return!("undefined"==typeof VideosL10n||!VideosL10n[t])&&VideosL10n[t]}l10nOptions(t){return!("undefined"==typeof VideosL10n||!VideosL10n.options||!VideosL10n.options[t])&&VideosL10n.options[t]}availableProFeatures(){return this.l10n("available-pro")}}class p{options={audioAlert:{event:null,excluded:null,enable:this.l10nOptions("audios/audio-alert"),sound:this.l10nOptions("audios/audio-alert/sound"),volume:this.l10nOptions("audios/audio-alert/volume")},popupMessage:{event:null,excluded:null,enable:this.l10nOptions("audios/alert-popup"),text:this.l10nOptions("audios/alert-popup/text"),title:this.l10nOptions("audios/alert-popup/title"),template:this.l10nOptions("audios/alert-popup/template")}};constructor(){"enable"===this.l10nOptions("audios")&&this.audiosProtector()}audiosProtector(){if("disable"===this.l10nOptions("audios/disable-right-click"))return!1;new s("contextmenu",(t=>{if("AUDIO"===t.target.tagName)return!!n("audios",t,this.l10nOptions("audios/filters"))&&(this.l10n("is-filter")||new e("audios",t,this.options),!1)}))}l10n(t){return!("undefined"==typeof AudiosL10n||!AudiosL10n[t])&&AudiosL10n[t]}l10nOptions(t){return!("undefined"==typeof AudiosL10n||!AudiosL10n.options||!AudiosL10n.options[t])&&AudiosL10n.options[t]}availableProFeatures(){return this.l10n("active-pro-version")}}const a={isOpen:!1,orientation:void 0},u=(t,e)=>{globalThis.dispatchEvent(new globalThis.CustomEvent("devtoolschange",{detail:{isOpen:t,orientation:e}}))},c=({emitEvents:t=!0}={})=>{const e=globalThis.outerWidth-globalThis.innerWidth>160,i=globalThis.outerHeight-globalThis.innerHeight>160,n=e?"vertical":"horizontal";i&&e||!(globalThis.Firebug&&globalThis.Firebug.chrome&&globalThis.Firebug.chrome.isInitialized||e||i)?(a.isOpen&&t&&u(!1,void 0),a.isOpen=!1,a.orientation=void 0):(a.isOpen&&a.orientation===n||!t||u(!0,n),a.isOpen=!0,a.orientation=n)};c({emitEvents:!1}),setInterval(c,500);const h=a;class d{options={audioAlert:{event:null,excluded:null,enable:this.l10nOptions("developer-tools/audio-alert"),sound:this.l10nOptions("developer-tools/audio-alert/sound"),volume:this.l10nOptions("developer-tools/audio-alert/volume")},popupMessage:{event:null,excluded:null,enable:this.l10nOptions("developer-tools/alert-popup"),text:this.l10nOptions("developer-tools/alert-popup/text"),title:this.l10nOptions("developer-tools/alert-popup/title"),template:this.l10nOptions("developer-tools/alert-popup/template")}};constructor(){let t="enable"===this.l10nOptions("developer-tools");t&&this.devToolsProtector(),t&&window.addEventListener("cp-dev-tools-addons-hotkeys",(t=>this.disableShortcuts()))}devToolsProtector(){let t="hotkeys"===this.l10nOptions("developer-tools/type");t&&this.disableShortcuts(),t&&h&&h.isOpen&&this.alert(new Event(""))}filter(t){return n("developer-tools",t,this.l10nOptions("developer-tools/filters"))}alert(t){this.filter(t)&&i("developer-tools",this.options)}disableShortcuts(){const t=new o;new s("keydown",(e=>{t.down({event:e,protector:"developer-tools",extensionsOption:this.options,hotKeys:this.l10n("disabled-shortcuts"),filters:this.l10nOptions("developer-tools/filters")})})),new s("keyup",(e=>t.up(e)))}l10n(t){return!("undefined"==typeof DevToolsL10n||!DevToolsL10n[t])&&DevToolsL10n[t]}l10nOptions(t){return!("undefined"==typeof DevToolsL10n||!DevToolsL10n.options||!DevToolsL10n.options[t])&&DevToolsL10n.options[t]}availableProFeatures(){return this.l10n("available-pro")}}class m{options={audioAlert:{event:null,excluded:null,enable:this.l10nOptions("view-source/audio-alert"),protectionType:this.l10nOptions("view-source/type"),sound:this.l10nOptions("view-source/audio-alert/sound"),volume:this.l10nOptions("view-source/audio-alert/volume")},popupMessage:{event:null,excluded:null,enable:this.l10nOptions("view-source/alert-popup"),protectionType:this.l10nOptions("view-source/type"),text:this.l10nOptions("view-source/alert-popup/text"),title:this.l10nOptions("view-source/alert-popup/title"),template:this.l10nOptions("view-source/alert-popup/template")}};constructor(){"enable"===this.l10nOptions("view-source")&&this.devToolsProtector()}devToolsProtector(){"hotkeys"===this.l10nOptions("view-source/type")&&this.disableShortcuts()}disableShortcuts(){let t=new o;new s("keydown",(e=>{this.options.audioAlert.event=e,this.options.popupMessage.event=e,t.down({event:e,protector:"view-source",extensionsOption:this.options,hotKeys:this.l10n("disabled-shortcuts"),filters:this.l10nOptions("view-source/filters")})})),new s("keyup",(e=>{t.up(e)}))}l10n(t){return!("undefined"==typeof ViewSourceL10n||!ViewSourceL10n[t])&&ViewSourceL10n[t]}l10nOptions(t){return!("undefined"==typeof ViewSourceL10n||!ViewSourceL10n.options||!ViewSourceL10n.options[t])&&ViewSourceL10n.options[t]}availableProFeatures(){return this.l10n("available-pro")}}class v{options={audioAlert:{event:null,excluded:null,enable:this.l10nOptions("print/audio-alert"),sound:this.l10nOptions("print/audio-alert/sound"),volume:this.l10nOptions("print/audio-alert/volume")},popupMessage:{event:null,excluded:null,enable:this.l10nOptions("print/alert-popup"),text:this.l10nOptions("print/alert-popup/text"),title:this.l10nOptions("print/alert-popup/title"),template:this.l10nOptions("print/alert-popup/template")}};constructor(){"enable"===this.l10nOptions("print")&&this.disablePrint()}disablePrint(){"hotkeys"===this.l10nOptions("print/type")&&this.disableShortcuts()}disableShortcuts(){let t=new o;new s("keydown",(e=>{this.options.audioAlert.event=e,this.options.popupMessage.event=e,t.down({event:e,protector:"print",extensionsOption:this.options,hotKeys:this.l10n("disabled-shortcuts"),filters:this.l10nOptions("print/filters")})})),new s("keyup",(e=>{t.up(e)}))}l10n(t){return!("undefined"==typeof PrintL10n||!PrintL10n[t])&&PrintL10n[t]}l10nOptions(t){return!("undefined"==typeof PrintL10n||!PrintL10n.options||!PrintL10n.options[t])&&PrintL10n.options[t]}availableProFeatures(){return this.l10n("available-pro")}}class f{constructor(){document.querySelectorAll("a[data-enc-email]").forEach((t=>{t.addEventListener("click",(t=>{let e=t.target;"SPAN"===t.target.tagName&&(e=e.parentElement),this.mailto(e),this.parseTitle(e),this.setInputValue(e)}))}))}fetchEmail(t){let e=t.getAttribute("data-enc-email");return e?(e=e.replace(/\[at\]/g,"@"),e=this.rot13(e),e):null}rot13(t){return t.replace(/[a-zA-Z]/g,(function(t){return String.fromCharCode((t<="Z"?90:122)>=(t=t.charCodeAt(0)+13)?t:t-26)}))}parseTitle(t){let e=t.getAttribute("title"),i=this.fetchEmail(t);e&&i&&(e=e.replace("{{email}}",i),t.setAttribute("title",e))}setInputValue(t){let e=this.fetchEmail(t);e&&t.setAttribute("value",e)}mailto(t){let e=this.fetchEmail(t);e&&(window.location.href="mailto:"+e)}revert(t,e){let i=this.fetchEmail(t);i&&(e.text(i),e.removeClass("eeb-rtl"))}}class g{constructor(){document.querySelectorAll("a[data-enc-phone]").forEach((t=>{t.addEventListener("click",(t=>{let e=t.target;"SPAN"===t.target.tagName&&(e=e.parentElement),this.tel(e),this.parseTitle(e),this.setInputValue(e)}))}))}fetchEmail(t){let e=t.getAttribute("data-enc-phone");return e?(e=e.replace(/\[at\]/g,"@"),e=this.rot13(e),e):null}rot13(t){return t.replace(/[a-zA-Z]/g,(function(t){return String.fromCharCode((t<="Z"?90:122)>=(t=t.charCodeAt(0)+13)?t:t-26)}))}parseTitle(t){let e=t.getAttribute("title"),i=this.fetchEmail(t);e&&i&&(e=e.replace("{{phone}}",i),t.setAttribute("title",e))}setInputValue(t){let e=this.fetchEmail(t);e&&t.setAttribute("value",e)}tel(t){let e=this.fetchEmail(t);e&&(window.location.href="tel:"+e)}revert(t,e){let i=this.fetchEmail(t);i&&(e.text(i),e.removeClass("eeb-rtl"))}}new class{constructor(){new class{extensionsConfig={audioAlert:{enable:this.l10nOptions("right-click/audio-alert"),protectionType:this.l10nOptions("right-click/type"),sound:this.l10nOptions("right-click/audio-alert/sound"),volume:this.l10nOptions("right-click/audio-alert/volume")},popupMessage:{enable:this.l10nOptions("right-click/alert-popup"),protectionType:this.l10nOptions("right-click/type"),text:this.l10nOptions("right-click/alert-popup/text"),title:this.l10nOptions("right-click/alert-popup/title"),template:this.l10nOptions("right-click/alert-popup/template")}};constructor(){let t=this;t.l10nOptions("right-click")&&"enable"===t.l10nOptions("right-click")&&t.disableRightClick()}availableProFeatures(){let t=this.l10n("available-pro");return(t&&t.mode)??!1}l10n(t){return!("undefined"==typeof RightClickL10n||!RightClickL10n[t])&&RightClickL10n[t]}l10nOptions(t){return!("undefined"==typeof RightClickL10n||!RightClickL10n.options||!RightClickL10n.options[t])&&RightClickL10n.options[t]}disableRightClick(){new s("contextmenu",this.handlerContextMenu.bind(this))}handlerContextMenu(t){let e=this.l10nOptions("right-click/type"),i=this.l10nOptions("right-click/internal-links"),n=this.l10nOptions("right-click/input-fields");switch(!0){case["INPUT","TEXTAREA"].includes(t.target.tagName)&&"enable"===n&&this.availableProFeatures():const s=new CustomEvent("inputs-contextmenu",{detail:{rc:this,contextmenu:t,options:this.extensionsConfig,protectionType:e,inputFieldsEnable:n}});window.dispatchEvent(s);break;case"A"===t.target.tagName&&"enable"===i&&this.availableProFeatures():const o=new CustomEvent("internal-links-contextmenu",{detail:{rc:this,contextmenu:t,options:this.extensionsConfig,protectionType:e,internalLinks:i}});window.dispatchEvent(o);break;default:if(!this.availableProFeatures()||"disable"===this.l10nOptions("right-click/type"))return void this.protection(t);const l=new CustomEvent("cp-rc-contextmenu",{detail:{rc:this,contextmenu:t,options:this.extensionsConfig,protectionType:e}});window.dispatchEvent(l)}}getHost(t){let e=t.match(/^https?:\/\/(?:w{3}\.)?([^\/?#]+)(?:[\/?#]|$)/i);if(e)return e[1]}protection(t){return!!n("right-click",t,this.l10nOptions("right-click/filters"))&&!this.l10n("is-filter")&&e("right-click",t,this.extensionsConfig)}},new class{options={audioAlert:{event:null,excludedTarget:null,enable:this.l10nOptions("text-copy/audio-alert"),protectionType:this.l10nOptions("text-copy/type"),sound:this.l10nOptions("text-copy/audio-alert/sound"),volume:this.l10nOptions("text-copy/audio-alert/volume")},popupMessage:{event:null,excludedTarget:null,enable:this.l10nOptions("text-copy/alert-popup"),protectionType:this.l10nOptions("text-copy/type"),text:this.l10nOptions("text-copy/alert-popup/text"),title:this.l10nOptions("text-copy/alert-popup/title"),template:this.l10nOptions("text-copy/alert-popup/template")}};availableAppender;constructor(){let t=this.l10nOptions("text-copy");t&&"disable"!==t&&(this.handleMouseup=this.handleMouseup.bind(this),this.disableTextCopy())}updateOptions(t){let e=this.isExcludedInputs()&&this.isInputTarget(t);this.options.audioAlert.event=t,this.options.popupMessage.event=t,this.options.audioAlert.excludedTarget=e,this.options.popupMessage.excludedTarget=e}l10n(t){return!("undefined"==typeof TextCopyL10n||!TextCopyL10n[t])&&TextCopyL10n[t]}l10nOptions(t){return!("undefined"==typeof TextCopyL10n||!TextCopyL10n.options||!TextCopyL10n.options[t])&&TextCopyL10n.options[t]}browserDetect(){let t,e=navigator.userAgent;return t=e.match(/Opera|OPR\//i)?"opera":e.match(/edg/i)?"edge":e.match(/chrome|chromium|crios/i)?"chrome":e.match(/firefox|fxios/i)?"firefox":e.match(/safari/i)?"safari":"chrome",t}disableTextCopy(){window.onmouseup=this.handleMouseup.bind(this),this.disableShortcuts(),("disable"===this.l10nOptions("text-copy/type")||this.isExcludedInputs())&&document.querySelectorAll('input[type="text"],input[type="search"],textarea').forEach(this.inputsDisableSelection.bind(this)),["selectstart","copy","cut"].forEach((t=>new s(t,this.copyright.bind(this))))}handleMouseup(t){return"edge"===this.browserDetect()&&(t.preventDefault(),!0)}isInputTarget(t){return["INPUT","TEXTAREA"].includes(t.target.tagName)}isExcludedInputs(){return"enable"===this.l10nOptions("text-copy/exclude-inputs")}availableProFeatures(){let t=this.l10n("available-pro");return(t&&t.mode)??!1}disableShortcuts(){const t=new o;let e=this.l10n("disabled-shortcuts"),i=this.l10nOptions("text-copy/type");if(this.availableProFeatures()&&"select"===i?e.forEach(((t,i)=>{"ctrl_a"!==t&&"cmd_a"!==t||delete e[i]})):"append"===i&&(e=[]),"disable"===this.l10nOptions("text-copy/type")||this.isExcludedInputs())return!1;new s("keydown",(i=>{this.updateOptions(i),t.down({event:i,protector:"text-copy",extensionsOption:this.options,hotKeys:e,filters:this.l10nOptions("text-copy/filters")})})),new s("keyup",(e=>t.up(e)))}protect(t){if(this.isExcludedInputs()&&this.isInputTarget(t))return!1;t&&t.preventDefault&&t.preventDefault()}copyright(t){if(!n("text-copy",t,this.l10nOptions("text-copy/filters")))return!1;if(this.l10n("is-filter"))return!1;if(this.availableProFeatures()&&["select","append"].includes(this.l10nOptions("text-copy/type"))){const e=new CustomEvent("cp-text-copy-protect",{detail:{origin:t,textCopy:this,protectionType:this.l10nOptions("text-copy/type"),allowSelect:this.l10nOptions("text-copy/select-texts"),copyrightAppender:this.l10nOptions("text-copy/copy-appender"),copyrightText:this.l10nOptions("text-copy/copy-appender/text"),copyrightLength:this.l10nOptions("text-copy/copy-appender/max-text-length")}});window.dispatchEvent(e)}else this.protect(t);return this.updateOptions(t),new i("text-copy",this.options),!0}inputsDisableSelection(t){return!!n("text-copy",new Event("select"),this.l10nOptions("text-copy/filters"))&&!this.l10n("is-filter")&&void(this.isExcludedInputs()||(t.classList.add("cp-unselectable"),t.addEventListener("select",(e=>{e.preventDefault(),t.selectionStart=t.selectionEnd,this.updateOptions(e),new i("text-copy",this.options)}))))}},new class{extensionsParams={audioAlert:{enable:this.l10nOptions("images/audio-alert"),protectionType:this.l10nOptions("images/type"),sound:this.l10nOptions("images/audio-alert/sound"),volume:this.l10nOptions("images/audio-alert/volume")},popupMessage:{enable:this.l10nOptions("images/alert-popup"),protectionType:this.l10nOptions("images/type"),text:this.l10nOptions("images/alert-popup/text"),title:this.l10nOptions("images/alert-popup/title"),template:this.l10nOptions("images/alert-popup/template")}};constructor(){let t="enable"===this.l10nOptions("images"),e="enable"===this.l10nOptions("images/disable-right-click"),i="enable"===this.l10nOptions("images/disable-drag");t&&e&&this.disableImageRightClick(),t&&i&&this.disableImageDragDrop()}l10n(t){return!("undefined"==typeof ImagesL10n||!ImagesL10n[t])&&ImagesL10n[t]}l10nOptions(t){return!("undefined"==typeof ImagesL10n||!ImagesL10n.options||!ImagesL10n.options[t])&&ImagesL10n.options[t]}disableImageDragDrop(){new s("dragstart",this.returnFalse.bind(this))}disableImageRightClick(){new s("contextmenu",(t=>{if("IMG"===t.target.tagName)return!!n("images",t,this.l10nOptions("images/filters"))&&(this.l10n("is-filter")||new e("images",t,this.extensionsParams),!1)}))}returnFalse(t){if(t&&t.preventDefault){if(!n("images",t,this.l10nOptions("images/filters")))return!1;if(this.l10n("is-filter"))return!1;new e("images",t,this.extensionsParams)}return!1}},new l,new r,new p,new d,new m,new v,new f,new g}}})();